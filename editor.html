<!DOCTYPE html>
<html>
<head>
	<title>Editor</title>
	<style type="text/css">
		.editor {
			border: 1px solid black;
			border-radius: 3px;
			padding: 5px;
			font-family: Consolas;
			font-size: 0.8em;
		}

		.enumber {
			float: left;
			width: 30px;
			border-right: 1px solid grey;
		}

		.erow {
			float: left;
			padding-left: 10px;
			background-color: #ccefef;
		}

		.erow[contenteditable=true]:focus {
			border: none;
			outline: none;
		}
	</style>
</head>
<body>
	<div class="editor">
			<div class="enumber">1</div><div class="erow" contenteditable="true" onkeydown="keyPressed(event)">Something here</div><br>
			<div class="enumber">2</div><div class="erow" contenteditable="true" onkeydown="keyPressed(event)">Hello</div><br>
			<div class="enumber">3</div><div class="erow" contenteditable="true" onkeydown="keyPressed(event)">very veryyyyyyyyyyyyyyyyyyyyyyyy long line like this is </div><br>
	</div>

	<!-- Javascript stuff -->
	<script type="text/javascript">
		
		var ctrlKeyPressed = false;

		var keyActionMap = {
			48: key0Pressed,
		}

		function key0Pressed() {
			console.log ("you pressed zero");
		}

		function keyPressed(e) {

			/* This prevents the insertion of the key values and
			   offers the posibility of overriding the action */
			e.preventDefault();

			keyActionMap[e.keyCode]();

			if (e.ctrlKey) {
				ctrlKeyPressed = e.ctrlKey;
			} else {

				if (ctrlKeyPressed) {
					ctrlKeyPressed = false;
					console.log ("CTRL + " + e.keyCode);
				} else {
					console.log (e.keyCode);
				}
			}
		}
	</script>
</body>
</html>